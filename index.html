<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program Contacts and Intelligence Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        /* Chat Section */
        #chat-section {
            min-height: 300px;
        }

        .chat-messages {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 8px;
            max-width: 80%;
        }

        .user-message {
            background: #667eea;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .bot-message {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        #chat-input {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-upload-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #image-upload {
            display: none;
        }

        .upload-btn {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            white-space: nowrap;
            min-width: 110px;
        }

        .upload-btn:hover {
            background: #5568d3;
        }

        .image-preview {
            max-width: 200px;
            max-height: 150px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .remove-image {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 16px;
            line-height: 1;
        }

        #chat-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #5568d3;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Database Section */
        .search-box {
            margin-bottom: 20px;
        }

        #database-search {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }

        #database-search:focus {
            outline: none;
            border-color: #667eea;
        }

        .database-table {
            width: 100%;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #667eea;
            color: white;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            font-weight: 600;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        /* Form Section */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .success-message {
            background: #4caf50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .error-message {
            background: #f44336;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìã Program Contacts and Intelligence Hub</h1>

        <!-- Chat Section -->
        <div class="section" id="chat-section">
            <h2>üí¨ Program and Contact Assistant</h2>
            <div class="chat-messages" id="chat-messages">
                <div class="message bot-message">
                    üëã Welcome! I can help you find or log programs, partner contacts, and insights that have helped others succeed.
                    Ask me about available funds, escalation paths, or helpful contacts across internal and external programs ‚Äî for example:
                    ‚ÄúDo we have any current takeout incentives for hardware?‚Äù or ‚ÄúWho helped escalate supply chain delays with HP?‚Äù
                </div>
            </div>
            <div class="chat-input-container">
                <div class="input-wrapper">
                    <input type="text" id="chat-input" placeholder="Ask about programs, contacts, or past issues..." />
                    <div class="file-upload-container" id="image-preview-container" style="display: none;">
                        <img id="image-preview" class="image-preview" />
                        <button class="remove-image" onclick="removeImage()">√ó</button>
                    </div>
                </div>
                <input type="file" id="image-upload" accept="image/*" onchange="handleImageUpload(event)" />
                <button class="upload-btn" onclick="document.getElementById('image-upload').click()">Image</button>
                <button class="btn" id="send-btn" onclick="sendMessage()">Send</button>
            </div>
        </div>

        <!-- Submission Form -->
        <div class="section" id="form-section">
            <h2>‚ûï Submit New Interaction</h2>
            <div class="success-message" id="success-message">‚úÖ Successfully submitted!</div>
            <div class="error-message" id="error-message">‚ùå Error submitting. Please try again.</div>
            <form id="submission-form">
                <div class="form-group">
                    <label for="vendor-name">Program or Partner *</label>
                    <input type="text" id="vendor-name" required placeholder="e.g., Dell, HP, Computacenter (Internal), CDW..." />
                </div>

                <div class="form-group">
                    <label for="interaction-summary">What was this about? *</label>
                    <textarea id="interaction-summary" required placeholder="Brief summary... (e.g., 'Used a special promotion to close a large laptop deal' or 'Found a workaround for their supply chain issue')"></textarea>
                </div>

                <div class="form-group">
                    <label for="helpful-contacts">Helpful Contacts</label>
                    <textarea id="helpful-contacts" placeholder="Paste signature blocks or contact info here. You can include multiple contacts.

Example:
John Smith
Program Manager
john.smith@partner.com
(555) 123-4567

Jane Doe
Sales Engineer
jane.doe@vendor.com"></textarea>
                </div>

                <div class="form-group">
                    <label for="detailed-notes">Detailed Notes *</label>
                    <textarea id="detailed-notes" required style="min-height: 150px;" placeholder="Tell the full story... What happened? How did you overcome the challenge? What specifically worked? What should others know?"></textarea>
                </div>

                <button type="submit" class="btn">Submit Interaction</button>
            </form>
        </div>

        <!-- Database Section -->
        <div class="section" id="database-section">
            <h2>üìä Program and Contact Full Database</h2>
            <div class="search-box">
                <input type="text" id="database-search" placeholder="üîç Filter by program, partner, contact, or topic..." onkeyup="filterDatabase()" />
            </div>
            <div class="database-table">
                <table id="data-table">
                    <thead>
                        <tr>
                            <th>Program / Partner</th>
                            <th>Summary</th>
                            <th>Key Contacts</th>
                            <th>Detailed Notes</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <tr>
                            <td colspan="5" class="loading">Loading data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Existing script block stays unchanged -->
    <script>
        /* (your existing JS remains identical) */
    </script>
</body>
</html>
